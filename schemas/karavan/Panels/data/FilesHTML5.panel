{"panel":"<style>\r\n  .thumb {\r\n    height: 75px;\r\n    border: 1px solid #000;\r\n    margin: 10px 5px 0 0;\r\n  }\r\n</style>\r\n\r\n<input data-element=\"Files\" type=\"file\" name=\"files[]\" multiple />\r\n<output data-element=\"List\"></output>\r\n\r\n<br><br>\r\n\r\n<div style=\"height: 20px\"></div>\r\n<div class=\"w2ui-field\">\r\n    <label>Attach Files:</label>\r\n    <div> <input id=\"file\"> </div>\r\n</div>\r\n<div style=\"height: 20px\"></div>\r\n\r\n<style>\r\n.w2ui-field input {\r\n    width: 400px;\r\n}\r\n.w2ui-field > div > span {\r\n    margin-left: 20px;\r\n}\r\n</style>\r\n\r\n<script type=\"text/javascript\">\r\n$('#file').w2field('file', {});\r\n</script>\r\n","style":"","client":"function handleFileSelect(evt) {\r\n    var files = evt.target.files; // FileList object\r\n    console.log('handleFileSelect', evt);\r\n    // Loop through the FileList and render image files as thumbnails.\r\n    for (var i = 0, f; f = files[i]; i++) {\r\n\r\n      // Only process image files.\r\n      if (!f.type.match('image.*')) {\r\n        continue;\r\n      }\r\n\r\n      var reader = new FileReader();\r\n\r\n      // Closure to capture the file information.\r\n      reader.onload = (function(theFile) {\r\n        return function(e) {\r\n            $('<span><img class=\"thumb\" src=\"'+e.target.result+'\" title=\"'+theFile.name+'\"/>').appendTo(Elements.List);\r\n        };\r\n      })(f);\r\n\r\n      // Read in the image file as a data URL.\r\n      reader.readAsDataURL(f);\r\n    }\r\n}\r\n\r\nfunction onInit(){\r\n    Elements.Files.on('change', handleFileSelect);\r\n}","server":""}