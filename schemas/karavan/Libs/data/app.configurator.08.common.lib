{"enable":true,"script":true,"acl":"#","sandbox":"{\n  App: App,\n  require: require,\n  console: console\n}","src":"/**\n * \n *  Модуль запрашивает результат работы других модулей\n *  основываясь на списке названий модулей\n *  и сшивает их в один результат\n *\n */\n \nvar l = [\n  \n  'app.factory.Idle',  \n  'app.factory.WatchDog',\n  'app.factory.Direct',\n  'app.factory.User',\n  \n  'app.controller.ProfileMenu'\n  \n];\n  \n  \n  \nreturn function(render) {\n  var fn = [];\n  l.forEach((key) => {\n    fn.push((function(name){ return function (cb) {\n      App.Libs.content(config.ssid, name, {ssid: config.ssid, name: name}, {}, (err, data) => {\n        if (err) {return cb(null, {name: name, content: ''});}\n          return cb(null, {name: name, content: data});\n      });\n    };})(key));\n  });\n  var async = require('async');\n  async.parallel(fn, (err, data) => {\n    \n    var listing = '';\n    var content = '';\n    data.forEach((item)=>{\n      listing += ' -'+item.name+'\\n';\n      if (item.content !== '') {\n        content += '/* Lib: '+item.name+' */\\n'+item.content+'\\n\\n';\n      }\n    });\n    \n    render(null, '/*\\nCommon Listing:\\n'+listing+'*/\\n\\n'+content);\n  });\n   \n}"}